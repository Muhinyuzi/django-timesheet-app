{% extends "timesheet/base.html" %}
{% block content %}

<h2>Feuille de temps - {{ timesheet.employee.name }}</h2>
<p>Semaine début : {{ timesheet.week_start }}</p>

<form method="post">
  {% csrf_token %}
  {{ formset.management_form }}

  <table>
    <tr>
      <th>Jour</th>
      <th>Arrivée matin</th>
      <th>Départ dîner</th>
      <th>Retour dîner</th>
      <th>Arrivée soir</th>
      <th>Départ soir</th>
      <th>Total (min)</th>
    </tr>

    {% for form in formset %}
    <tr>
      <td>{{ form.instance.get_day_display }}</td>

      {{ form.id }}

      <td>{{ form.arrival_morning }}</td>
      <td>{{ form.lunch_departure }}</td>
      <td>{{ form.lunch_return }}</td>
      <td>{{ form.arrival_evening }}</td>
      <td>{{ form.departure_evening }}</td>

      <td>{{ form.instance.total_minutes }}</td>
    </tr>
    {% endfor %}
  </table>

  <br>
  <button type="submit">Enregistrer</button>
</form>

<h3>Total semaine : {{ timesheet.total_hours }} heures</h3>

{% endblock %}